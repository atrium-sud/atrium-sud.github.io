Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/fetch.es",["module","exports","require"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=defaultFetch;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,
sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2)ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])});else if(Object.getOwnPropertyDescriptors)Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));else ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,
key))})}return target}function _defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var DEFAULT_INIT={credentials:"include"};function defaultFetch(resource){var init=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var headers=new Headers({"x-csrf-token":Liferay.authToken});(new Headers(init.headers||{})).forEach(function(value,key){headers.set(key,value)});var mergedInit=
_objectSpread(_objectSpread({},DEFAULT_INIT),init);mergedInit.headers=headers;return fetch(resource,mergedInit)}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/session.es",["module","exports","require","./fetch.es"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.getSessionValue=getSessionValue;exports.setSessionValue=setSessionValue;var _fetch=_interopRequireDefault(require("./fetch.es"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";
if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}var TOKEN_SERIALIZE="serialize://";function getSessionClickFormData(cmd){var doAsUserIdEncoded=Liferay.ThemeDisplay.getDoAsUserIdEncoded();var formData=new FormData;formData.append("cmd",cmd);formData.append("p_auth",Liferay.authToken);
if(doAsUserIdEncoded)formData.append("doAsUserId",doAsUserIdEncoded);return formData}function getSessionClickURL(){return"".concat(Liferay.ThemeDisplay.getPortalURL()).concat(Liferay.ThemeDisplay.getPathMain(),"/portal/session_click")}function getSessionValue(key){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var formData=getSessionClickFormData("get");formData.append("key",key);if(options.useHttpSession)formData.append("useHttpSession",true);return(0,_fetch.default)(getSessionClickURL(),
{body:formData,method:"POST"}).then(function(response){return response.text()}).then(function(responseText){if(responseText.startsWith(TOKEN_SERIALIZE)){var value=responseText.substring(TOKEN_SERIALIZE.length);responseText=JSON.parse(value)}return responseText})}function setSessionValue(key,value){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var formData=getSessionClickFormData("set");if(value&&_typeof(value)==="object")value=TOKEN_SERIALIZE+JSON.stringify(value);formData.append(key,
value);if(options.useHttpSession)formData.append("useHttpSession",true);return(0,_fetch.default)(getSessionClickURL(),{body:formData,method:"POST"})}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/toast/commands/OpenToast.es",["module","exports","require","@frontend-taglib-clay$clayui/alert","frontend-js-react-web","frontend-js-metal-web$metal-dom","frontend-js-react-web$react","frontend-js-react-web$react-dom"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.openToast=openToast;exports.default=void 0;var _alert=_interopRequireDefault(require("@frontend-taglib-clay$clayui/alert"));
var _frontendJsReactWeb=require("frontend-js-react-web");var _metalDom=require("frontend-js-metal-web$metal-dom");var _react=_interopRequireDefault(require("frontend-js-react-web$react"));var _reactDom=require("frontend-js-react-web$react-dom");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)if(Object.prototype.hasOwnProperty.call(source,
key))target[key]=source[key]}return target};return _extends.apply(this,arguments)}var DEFAULT_ALERT_CONTAINER_ID="ToastAlertContainer";var DEFAULT_RENDER_DATA={portletId:"UNKNOWN_PORTLET_ID"};var DEFAULT_TOAST_TYPE_TITLES={danger:'Erreur',info:'Informations',success:'SuccÃ¨s',warning:'Avertissement'};var TOAST_AUTO_CLOSE_INTERVAL=5E3;var TPL_ALERT_CONTAINER='\n\t\x3cdiv class\x3d"alert-container container"\x3e\n\t\t\x3cdiv class\x3d"alert-notifications alert-notifications-fixed" id\x3d'.concat(DEFAULT_ALERT_CONTAINER_ID,
"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n");var getRootElement=function getRootElement(_ref){var container=_ref.container,containerId=_ref.containerId;if(container||containerId){container=container||document.getElementById(containerId);if(container){var child=document.createElement("div");container.appendChild(child);return child}}var alertFixed=document.getElementById(DEFAULT_ALERT_CONTAINER_ID);if(!alertFixed){alertFixed=(0,_metalDom.buildFragment)(TPL_ALERT_CONTAINER).querySelector(".alert-container.container");
alertFixed=document.body.appendChild(alertFixed)}container=document.createElement("div");container.className="mb-3";var fragmentContainer=document.querySelector(".alert-notifications.alert-notifications-fixed");fragmentContainer.appendChild(container);return container};function openToast(_ref2){var _ref2$autoClose=_ref2.autoClose,autoClose=_ref2$autoClose===void 0?TOAST_AUTO_CLOSE_INTERVAL:_ref2$autoClose,container=_ref2.container,containerId=_ref2.containerId,_ref2$message=_ref2.message,message=
_ref2$message===void 0?"":_ref2$message,_ref2$onClick=_ref2.onClick,_onClick=_ref2$onClick===void 0?function(){}:_ref2$onClick,_ref2$onClose=_ref2.onClose,onClose=_ref2$onClose===void 0?function(){}:_ref2$onClose,_ref2$renderData=_ref2.renderData,renderData=_ref2$renderData===void 0?DEFAULT_RENDER_DATA:_ref2$renderData,title=_ref2.title,_ref2$toastProps=_ref2.toastProps,toastProps=_ref2$toastProps===void 0?{}:_ref2$toastProps,_ref2$type=_ref2.type,type=_ref2$type===void 0?"success":_ref2$type,variant=
_ref2.variant;var rootElement=getRootElement({container:container,containerId:containerId});(0,_reactDom.unmountComponentAtNode)(rootElement);var onCloseFn=function onCloseFn(event){if(onClose)onClose({event:event});if(!event||!event.defaultPrevented){if(!container||!containerId)rootElement.parentNode.removeChild(rootElement);(0,_reactDom.unmountComponentAtNode)(rootElement)}};var titleHTML=title===undefined?DEFAULT_TOAST_TYPE_TITLES[type]:title;if(titleHTML){titleHTML=titleHTML.replace(/:$/,"");
titleHTML='\x3cstrong class\x3d"lead"\x3e'.concat(titleHTML,":\x3c/strong\x3e")}else titleHTML="";(0,_frontendJsReactWeb.render)(_react.default.createElement(_alert.default,_extends({autoClose:autoClose,displayType:type,onClick:function onClick(event){return _onClick({event:event,onClose:onCloseFn})},onClose:onCloseFn,variant:variant},toastProps),_react.default.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(titleHTML).concat(message)}})),renderData,rootElement)}var _default=openToast;
exports.default=_default}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/throttle.es",["module","exports","require"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=throttle;function throttle(fn,interval){var timeout=null;var last;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var context=this;var now=Date.now();var schedule=function schedule(){timeout=
setTimeout(function(){timeout=null},interval);last=now;fn.apply(context,args)};if(timeout===null)schedule();else{var remaining=Math.max(last+interval-now,0);clearTimeout(timeout);timeout=setTimeout(schedule,remaining)}}}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/add_params",["module","exports","require"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=addParams;function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,
i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]"))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e;}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _typeof(obj){"@babel/helpers - typeof";
if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}function addParams(params,baseUrl){if(!params||_typeof(params)!=="object"&&typeof params!=="string")throw new TypeError("Parameter params must be an object or string");if(typeof baseUrl!=="string")throw new TypeError("Parameter baseUrl must be a string");
var url=baseUrl.startsWith("/")?new URL(baseUrl,location.href):new URL(baseUrl);if(_typeof(params)==="object")Object.entries(params).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];url.searchParams.append(key,value)});else{var searchParams=new URLSearchParams(params.trim());searchParams.forEach(function(value,key){if(value)url.searchParams.append(key,value);else url.searchParams.append(key,"")})}return url.toString()}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/get_dom",["module","exports","require"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=getDOM;function getDOM(element){if(element._node||element._nodes)return element.nodeType?element:element._node||null;return element}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/get_element",["module","exports","require","./get_dom"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=getElement;var _get_dom=_interopRequireDefault(require("./get_dom"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getElement(element){var currentElement=(0,_get_dom.default)(element);return typeof currentElement===
"string"?document.querySelector(currentElement):currentElement.jquery?currentElement[0]:currentElement}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/in_browser_view",["module","exports","require","./get_element"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=inBrowserView;var _get_element=_interopRequireDefault(require("./get_element"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function inBrowserView(node,baseWindow,nodeRegion){var viewable=false;
node=(0,_get_element.default)(node);if(node){if(!nodeRegion){nodeRegion=node.getBoundingClientRect();nodeRegion={left:nodeRegion.left+window.scrollX,top:nodeRegion.top+window.scrollY};nodeRegion.bottom=nodeRegion.top+node.offsetHeight;nodeRegion.right=nodeRegion.left+node.offsetWidth}if(!baseWindow)baseWindow=window;baseWindow=(0,_get_element.default)(baseWindow);var winRegion={};winRegion.left=baseWindow.scrollX;winRegion.right=winRegion.left+baseWindow.innerWidth;winRegion.top=baseWindow.scrollY;
winRegion.bottom=winRegion.top+baseWindow.innerHeight;viewable=nodeRegion.bottom<=winRegion.bottom&&nodeRegion.left>=winRegion.left&&nodeRegion.right<=winRegion.right&&nodeRegion.top>=winRegion.top;if(viewable){var frameElement=baseWindow.frameElement;if(frameElement){var frameOffset=frameElement.getBoundingClientRect();frameOffset={left:frameOffset.left+window.scrollX,top:frameOffset.top+window.scrollY};var xOffset=frameOffset.left-winRegion.left;nodeRegion.left+=xOffset;nodeRegion.right+=xOffset;
var yOffset=frameOffset.top-winRegion.top;nodeRegion.top+=yOffset;nodeRegion.bottom+=yOffset;viewable=inBrowserView(node,baseWindow.parent,nodeRegion)}}}return viewable}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/focus_form_field",["module","exports","require","./get_element","./in_browser_view"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=focusFormField;var _get_element=_interopRequireDefault(require("./get_element"));var _in_browser_view=_interopRequireDefault(require("./in_browser_view"));function _interopRequireDefault(obj){return obj&&obj.__esModule?
obj:{default:obj}}function getDisabledParents(element){var result=[];while(element.parentElement){if(element.parentElement.getAttribute("disabled"))result.push(element.parentElement);element=element.parentElement}return result}function focusFormField(element){element=(0,_get_element.default)(element);if((0,_in_browser_view.default)(element)){var disabledParents=getDisabledParents(element);var focusable=!element.getAttribute("disabled")&&element.offsetWidth>0&&element.offsetHeight>0&&!disabledParents.length;
var form=element.closest("form");if(!form||focusable)element.focus();else if(form){var portletName=form.getAttribute("data-fm-namespace");var formReadyEventName=portletName+"formReady";var formReadyHandler=function formReadyHandler(event){var elFormName=form.getAttribute("name");var formName=event.formName;if(elFormName===formName){element.focus();Liferay.detach(formReadyEventName,formReadyHandler)}};Liferay.on(formReadyEventName,formReadyHandler)}}}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/get_portlet_id",["module","exports","require"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=getPortletId;var REGEX_PORTLET_ID=/^(?:p_p_id)?_(.*)_.*$/;function getPortletId(portletId){return portletId.replace(REGEX_PORTLET_ID,"$1")}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/is_phone",["module","exports","require","../breakpoints"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=isPhone;var _breakpoints=_interopRequireDefault(require("../breakpoints"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isPhone(){return window.innerWidth<_breakpoints.default.PHONE}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/is_tablet",["module","exports","require","../breakpoints"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=isTablet;var _breakpoints=_interopRequireDefault(require("../breakpoints"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isTablet(){return window.innerWidth<_breakpoints.default.TABLET}}});
Liferay.Loader.define("frontend-js-web@4.0.38/liferay/util/normalize_friendly_url",["module","exports","require"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=normalizeFriendlyURL;function normalizeFriendlyURL(text){if(typeof text!=="string")throw new TypeError("parameter text must be a string");return text.replace(/[^a-z0-9_-]/gi,"-").replace(/^-+/,"").replace(/--+/,"-").toLowerCase()}}});
Liferay.Loader.define("frontend-js-web@4.0.38/index.es",["module","exports","require","./liferay/aop/AOP.es","./liferay/autosize/autosize.es","./liferay/debounce/debounce.es","./liferay/util/form/object_to_form_data.es","./liferay/breakpoints","./liferay/CompatibilityEventProxy.es","./liferay/DefaultEventHandler.es","./liferay/ItemSelectorDialog.es","./liferay/PortletBase.es","./liferay/modal/Modal","./liferay/modal/commands/OpenSimpleInputModal.es","./liferay/util/portlet_url/create_action_url.es",
"./liferay/util/portlet_url/create_portlet_url.es","./liferay/util/portlet_url/create_render_url.es","./liferay/util/portlet_url/create_resource_url.es","./liferay/util/session.es","./liferay/toast/commands/OpenToast.es","./liferay/throttle.es","./liferay/util/add_params","./liferay/util/fetch.es","./liferay/util/focus_form_field","./liferay/util/get_portlet_id","./liferay/util/in_browser_view","./liferay/util/is_phone","./liferay/util/is_tablet","./liferay/util/navigate.es","./liferay/util/normalize_friendly_url",
"./liferay/util/toggle_disabled"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AOP",{enumerable:true,get:function get(){return _AOP.default}});Object.defineProperty(exports,"autoSize",{enumerable:true,get:function get(){return _autosize.default}});Object.defineProperty(exports,"cancelDebounce",{enumerable:true,get:function get(){return _debounce.cancelDebounce}});Object.defineProperty(exports,
"debounce",{enumerable:true,get:function get(){return _debounce.debounce}});Object.defineProperty(exports,"objectToFormData",{enumerable:true,get:function get(){return _object_to_form_data.default}});Object.defineProperty(exports,"BREAKPOINTS",{enumerable:true,get:function get(){return _breakpoints.default}});Object.defineProperty(exports,"CompatibilityEventProxy",{enumerable:true,get:function get(){return _CompatibilityEventProxy.default}});Object.defineProperty(exports,"DefaultEventHandler",{enumerable:true,
get:function get(){return _DefaultEventHandler.default}});Object.defineProperty(exports,"ItemSelectorDialog",{enumerable:true,get:function get(){return _ItemSelectorDialog.default}});Object.defineProperty(exports,"PortletBase",{enumerable:true,get:function get(){return _PortletBase.default}});Object.defineProperty(exports,"openModal",{enumerable:true,get:function get(){return _Modal.openModal}});Object.defineProperty(exports,"openSelectionModal",{enumerable:true,get:function get(){return _Modal.openSelectionModal}});
Object.defineProperty(exports,"openSimpleInputModal",{enumerable:true,get:function get(){return _OpenSimpleInputModal.default}});Object.defineProperty(exports,"createActionURL",{enumerable:true,get:function get(){return _create_action_url.default}});Object.defineProperty(exports,"createPortletURL",{enumerable:true,get:function get(){return _create_portlet_url.default}});Object.defineProperty(exports,"createRenderURL",{enumerable:true,get:function get(){return _create_render_url.default}});Object.defineProperty(exports,
"createResourceURL",{enumerable:true,get:function get(){return _create_resource_url.default}});Object.defineProperty(exports,"getSessionValue",{enumerable:true,get:function get(){return _session.getSessionValue}});Object.defineProperty(exports,"setSessionValue",{enumerable:true,get:function get(){return _session.setSessionValue}});Object.defineProperty(exports,"openToast",{enumerable:true,get:function get(){return _OpenToast.openToast}});Object.defineProperty(exports,"throttle",{enumerable:true,get:function get(){return _throttle.default}});
Object.defineProperty(exports,"addParams",{enumerable:true,get:function get(){return _add_params.default}});Object.defineProperty(exports,"fetch",{enumerable:true,get:function get(){return _fetch.default}});Object.defineProperty(exports,"focusFormField",{enumerable:true,get:function get(){return _focus_form_field.default}});Object.defineProperty(exports,"getPortletId",{enumerable:true,get:function get(){return _get_portlet_id.default}});Object.defineProperty(exports,"inBrowserView",{enumerable:true,
get:function get(){return _in_browser_view.default}});Object.defineProperty(exports,"isPhone",{enumerable:true,get:function get(){return _is_phone.default}});Object.defineProperty(exports,"isTablet",{enumerable:true,get:function get(){return _is_tablet.default}});Object.defineProperty(exports,"navigate",{enumerable:true,get:function get(){return _navigate.default}});Object.defineProperty(exports,"normalizeFriendlyURL",{enumerable:true,get:function get(){return _normalize_friendly_url.default}});Object.defineProperty(exports,
"toggleDisabled",{enumerable:true,get:function get(){return _toggle_disabled.default}});var _AOP=_interopRequireDefault(require("./liferay/aop/AOP.es"));var _autosize=_interopRequireDefault(require("./liferay/autosize/autosize.es"));var _debounce=require("./liferay/debounce/debounce.es");var _object_to_form_data=_interopRequireDefault(require("./liferay/util/form/object_to_form_data.es"));var _breakpoints=_interopRequireDefault(require("./liferay/breakpoints"));var _CompatibilityEventProxy=_interopRequireDefault(require("./liferay/CompatibilityEventProxy.es"));
var _DefaultEventHandler=_interopRequireDefault(require("./liferay/DefaultEventHandler.es"));var _ItemSelectorDialog=_interopRequireDefault(require("./liferay/ItemSelectorDialog.es"));var _PortletBase=_interopRequireDefault(require("./liferay/PortletBase.es"));var _Modal=require("./liferay/modal/Modal");var _OpenSimpleInputModal=_interopRequireDefault(require("./liferay/modal/commands/OpenSimpleInputModal.es"));var _create_action_url=_interopRequireDefault(require("./liferay/util/portlet_url/create_action_url.es"));
var _create_portlet_url=_interopRequireDefault(require("./liferay/util/portlet_url/create_portlet_url.es"));var _create_render_url=_interopRequireDefault(require("./liferay/util/portlet_url/create_render_url.es"));var _create_resource_url=_interopRequireDefault(require("./liferay/util/portlet_url/create_resource_url.es"));var _session=require("./liferay/util/session.es");var _OpenToast=require("./liferay/toast/commands/OpenToast.es");var _throttle=_interopRequireDefault(require("./liferay/throttle.es"));
var _add_params=_interopRequireDefault(require("./liferay/util/add_params"));var _fetch=_interopRequireDefault(require("./liferay/util/fetch.es"));var _focus_form_field=_interopRequireDefault(require("./liferay/util/focus_form_field"));var _get_portlet_id=_interopRequireDefault(require("./liferay/util/get_portlet_id"));var _in_browser_view=_interopRequireDefault(require("./liferay/util/in_browser_view"));var _is_phone=_interopRequireDefault(require("./liferay/util/is_phone"));var _is_tablet=_interopRequireDefault(require("./liferay/util/is_tablet"));
var _navigate=_interopRequireDefault(require("./liferay/util/navigate.es"));var _normalize_friendly_url=_interopRequireDefault(require("./liferay/util/normalize_friendly_url"));var _toggle_disabled=_interopRequireDefault(require("./liferay/util/toggle_disabled"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}}});
Liferay.Loader.define("frontend-js-spa-web@4.0.27/liferay/surface/Surface.es",["module","exports","require","frontend-js-metal-web$metal","frontend-js-metal-web$metal-dom","frontend-js-spa-web$senna/lib/surface/Surface"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _metal=_interopRequireDefault(require("frontend-js-metal-web$metal"));var _metalDom=_interopRequireDefault(require("frontend-js-metal-web$metal-dom"));
var _Surface2=_interopRequireDefault(require("frontend-js-spa-web$senna/lib/surface/Surface"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,
protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function"))return call;return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get)_get=Reflect.get;
else _get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get)return desc.get.call(receiver);return desc.value};return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?
Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=
Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var LiferaySurface=function(_Surface){_inherits(LiferaySurface,_Surface);function LiferaySurface(){_classCallCheck(this,LiferaySurface);return _possibleConstructorReturn(this,_getPrototypeOf(LiferaySurface).apply(this,arguments))}_createClass(LiferaySurface,[{key:"addContent",value:function addContent(screenId,content){if(_metal.default.isString(content))content=_metalDom.default.buildFragment(content);
Liferay.DOMTaskRunner.runTasks(content);return _get(_getPrototypeOf(LiferaySurface.prototype),"addContent",this).call(this,screenId,content)}}]);return LiferaySurface}(_Surface2.default);var _default=LiferaySurface;exports.default=_default}});
Liferay.Loader.define("frontend-js-spa-web@4.0.27/liferay/util/Utils.es",["module","exports","require"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=
descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var MAX_TIMEOUT=Math.pow(2,31)-1;var Utils=function(){function Utils(){_classCallCheck(this,Utils)}_createClass(Utils,null,[{key:"getMaxTimeout",
value:function getMaxTimeout(){return MAX_TIMEOUT}},{key:"getPortletBoundaryId",value:function getPortletBoundaryId(portletId){return"p_p_id_"+portletId+"_"}},{key:"getPortletBoundaryIds",value:function getPortletBoundaryIds(portletIds){return portletIds.map(function(portletId){return Utils.getPortletBoundaryId(portletId)})}},{key:"resetAllPortlets",value:function resetAllPortlets(){Utils.getPortletBoundaryIds(Liferay.Portlet.list).forEach(function(value){var portlet=document.querySelector("#"+value);
if(portlet){Liferay.Portlet.destroy(portlet);portlet.portletProcessed=false}});Liferay.Portlet.readyCounter=0;Liferay.destroyComponents(function(component,componentConfig){return componentConfig.destroyOnNavigate})}}]);return Utils}();var _default=Utils;exports.default=_default}});
Liferay.Loader.define("frontend-js-spa-web@4.0.27/liferay/app/App.es",["module","exports","require","frontend-js-web","frontend-js-metal-web$metal","frontend-js-metal-web$metal-dom","frontend-js-spa-web$senna","../surface/Surface.es","../util/Utils.es"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _frontendJsWeb=require("frontend-js-web");var _metal=_interopRequireDefault(require("frontend-js-metal-web$metal"));
var _metalDom=_interopRequireDefault(require("frontend-js-metal-web$metal-dom"));var _senna=require("frontend-js-spa-web$senna");var _Surface=_interopRequireDefault(require("../surface/Surface.es"));var _Utils=_interopRequireDefault(require("../util/Utils.es"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};
else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=
1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2)ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])});else if(Object.getOwnPropertyDescriptors)Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));else ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,
key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,
descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function"))return call;return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get)_get=Reflect.get;else _get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get)return desc.get.call(receiver);return desc.value};return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);
if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,
configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PROPAGATED_PARAMS=["bodyCssClass"];var LiferayApp=function(_App){_inherits(LiferayApp,_App);function LiferayApp(){var _this;_classCallCheck(this,LiferayApp);_this=_possibleConstructorReturn(this,_getPrototypeOf(LiferayApp).call(this));_this.portletsBlacklist={};_this.validStatusCodes=
[];_this.setShouldUseFacade(true);_this.timeout=Math.max(Liferay.SPA.requestTimeout,0)||_Utils.default.getMaxTimeout();_this.timeoutAlert=null;var exceptionsSelector=Liferay.SPA.navigationExceptionSelectors;_this.setFormSelector("form"+exceptionsSelector);_this.setLinkSelector("a"+exceptionsSelector);_this.setLoadingCssClass("lfr-spa-loading");_this.on("beforeNavigate",_this.onBeforeNavigate);_this.on("endNavigate",_this.onEndNavigate);_this.on("navigationError",_this.onNavigationError);_this.on("startNavigate",
_this.onStartNavigate);Liferay.on("beforeScreenFlip",_Utils.default.resetAllPortlets);Liferay.on("beforeScreenFlip",Liferay.destroyUnfulfilledPromises);Liferay.on("io:complete",_this.onLiferayIOComplete,_assertThisInitialized(_this));var body=document.body;if(!body.id)body.id="senna_surface"+_metal.default.getUid();_this.addSurfaces(new _Surface.default(body.id));_metalDom.default.append(body,'\x3cdiv class\x3d"lfr-spa-loading-bar"\x3e\x3c/div\x3e');return _this}_createClass(LiferayApp,[{key:"createScreenInstance",
value:function createScreenInstance(path,route){if(path===this.activePath){var uri=new URL(path,window.location.origin);if(uri.searchParams.get("p_p_lifecycle")==="1"){this.activePath=this.activePath+"__".concat(_metal.default.getUid());this.screens[this.activePath]=this.screens[path];delete this.screens[path]}}return _get(_getPrototypeOf(LiferayApp.prototype),"createScreenInstance",this).call(this,path,route)}},{key:"getCacheExpirationTime",value:function getCacheExpirationTime(){return Liferay.SPA.cacheExpirationTime}},
{key:"getValidStatusCodes",value:function getValidStatusCodes(){return this.validStatusCodes}},{key:"isCacheEnabled",value:function isCacheEnabled(){return this.getCacheExpirationTime()>-1}},{key:"isInPortletBlacklist",value:function isInPortletBlacklist(element){return Object.keys(this.portletsBlacklist).some(function(portletId){var boundaryId=_Utils.default.getPortletBoundaryId(portletId);var portlets=document.querySelectorAll('[id^\x3d"'+boundaryId+'"]');return Array.prototype.slice.call(portlets).some(function(portlet){return _metalDom.default.contains(portlet,
element)})})}},{key:"isScreenCacheExpired",value:function isScreenCacheExpired(screen){var screenCacheExpired=false;if(this.getCacheExpirationTime()!==0){var lastModifiedInterval=(new Date).getTime()-screen.getCacheLastModified();screenCacheExpired=lastModifiedInterval>this.getCacheExpirationTime()}return screenCacheExpired}},{key:"onBeforeNavigate",value:function onBeforeNavigate(data,event){if(Liferay.SPA.clearScreensCache||data.form)this.clearScreensCache();this._clearLayoutData();data.path=this._propagateParams(data);
Liferay.fire("beforeNavigate",{app:this,originalEvent:event,path:data.path})}},{key:"onDataLayoutConfigReady_",value:function onDataLayoutConfigReady_(){if(Liferay.Layout)Liferay.Layout.init(Liferay.Data.layoutConfig)}},{key:"onDocClickDelegate_",value:function onDocClickDelegate_(event){if(this.isInPortletBlacklist(event.delegateTarget)||event.detail>1)return;_get(_getPrototypeOf(LiferayApp.prototype),"onDocClickDelegate_",this).call(this,event)}},{key:"onDocSubmitDelegate_",value:function onDocSubmitDelegate_(event){if(this.isInPortletBlacklist(event.delegateTarget))return;
_get(_getPrototypeOf(LiferayApp.prototype),"onDocSubmitDelegate_",this).call(this,event)}},{key:"onEndNavigate",value:function onEndNavigate(event){Liferay.fire("endNavigate",{app:this,error:event.error,path:event.path});if(!this.pendingNavigate){this._clearRequestTimer();this._hideTimeoutAlert()}if(!event.error)this.dataLayoutConfigReadyHandle_=Liferay.once("dataLayoutConfigReady",this.onDataLayoutConfigReady_);this._adjustScrollTop();AUI().Get._insertCache={};Liferay.DOMTaskRunner.reset()}},{key:"onLiferayIOComplete",
value:function onLiferayIOComplete(){this.clearScreensCache()}},{key:"onNavigationError",value:function onNavigationError(event){if(event.error.requestPrematureTermination)window.location.href=event.path;else if(event.error.invalidStatus||event.error.requestError||event.error.timeout){var message="Il y a eu une erreur inattendue. Veuillez rafra\u00eechir la page actuelle.";if(Liferay.SPA.debugEnabled){console.error(event.error);if(event.error.invalidStatus)message="La requ\u00eate de navigation SPA a re\u00e7u un code de statut HTTP non valide.";
if(event.error.requestError)message="Une erreur inattendue est survenue au niveau de la requ\u00eate SPA.";if(event.error.timeout)message="La requ\u00eate SPA a expir\u00e9."}Liferay.Data.layoutConfig=this.dataLayoutConfig_;this._createNotification({message:message,title:"Erreur",type:"danger"})}}},{key:"onStartNavigate",value:function onStartNavigate(event){Liferay.fire("startNavigate",{app:this,path:event.path});this._startRequestTimer(event.path)}},{key:"setPortletsBlacklist",value:function setPortletsBlacklist(portletsBlacklist){this.portletsBlacklist=
portletsBlacklist}},{key:"setValidStatusCodes",value:function setValidStatusCodes(validStatusCodes){this.validStatusCodes=validStatusCodes}},{key:"_adjustScrollTop",value:function _adjustScrollTop(){var controlMenuContainer=document.querySelector(".control-menu-container");if(controlMenuContainer){var controlMenuContainerScroll=controlMenuContainer.offsetHeight||0;window.scrollBy(0,-controlMenuContainerScroll)}}},{key:"_clearLayoutData",value:function _clearLayoutData(){this.dataLayoutConfig_=Liferay.Data.layoutConfig;
Liferay.Data.layoutConfig=null;if(this.dataLayoutConfigReadyHandle_){this.dataLayoutConfigReadyHandle_.detach();this.dataLayoutConfigReadyHandle_=null}}},{key:"_clearRequestTimer",value:function _clearRequestTimer(){if(this.requestTimer)clearTimeout(this.requestTimer)}},{key:"_createNotification",value:function _createNotification(config){return new Promise(function(resolve){resolve((0,_frontendJsWeb.openToast)(_objectSpread({type:"warning"},config)))})}},{key:"_hideTimeoutAlert",value:function _hideTimeoutAlert(){if(this.timeoutAlert)this.timeoutAlert.dispose()}},
{key:"_propagateParams",value:function _propagateParams(data){var activeUri=this.activePath?new URL(this.activePath,window.location.origin):new URL(window.location.href);var activePpid=activeUri.searchParams.get("p_p_id");var nextUri=new URL(data.path,window.location.origin);var nextPpid=nextUri.searchParams.get("p_p_id");if(nextPpid&&nextPpid===activePpid)PROPAGATED_PARAMS.forEach(function(paramKey){var paramName="_".concat(nextPpid,"_").concat(paramKey);var paramValue=activeUri.searchParams.get(paramName);
if(paramValue)nextUri.searchParams.set(paramName,paramValue)});return nextUri.toString()}},{key:"_startRequestTimer",value:function _startRequestTimer(path){var _this2=this;this._clearRequestTimer();if(Liferay.SPA.userNotification.timeout>0)this.requestTimer=setTimeout(function(){Liferay.fire("spaRequestTimeout",{path:path});_this2._hideTimeoutAlert();_this2._createNotification({message:Liferay.SPA.userNotification.message,title:Liferay.SPA.userNotification.title,type:"warning"}).then(function(alert){_this2.timeoutAlert=
alert})},Liferay.SPA.userNotification.timeout)}},{key:"updateHistory_",value:function updateHistory_(title,path,state,opt_replaceHistory){if(state&&state.redirectPath)state.path=state.redirectPath;_get(_getPrototypeOf(LiferayApp.prototype),"updateHistory_",this).call(this,title,path,state,opt_replaceHistory)}}]);return LiferayApp}(_senna.App);var _default=LiferayApp;exports.default=_default}});
Liferay.Loader.define("frontend-js-spa-web@4.0.27/liferay/screen/EventScreen.es",["module","exports","require","frontend-js-spa-web$senna","frontend-js-spa-web$senna/lib/globals/globals"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _senna=require("frontend-js-spa-web$senna");var _globals=_interopRequireDefault(require("frontend-js-spa-web$senna/lib/globals/globals"));function _interopRequireDefault(obj){return obj&&
obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,
call){if(call&&(_typeof(call)==="object"||typeof call==="function"))return call;return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get)_get=Reflect.get;else _get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,
property);if(desc.get)return desc.get.call(receiver);return desc.value};return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,
superClass){if(typeof superClass!=="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var EventScreen=function(_HtmlScreen){_inherits(EventScreen,
_HtmlScreen);function EventScreen(){var _this;_classCallCheck(this,EventScreen);_this=_possibleConstructorReturn(this,_getPrototypeOf(EventScreen).call(this));_this.cacheable=false;_this.timeout=Liferay.SPA.app.timeout;return _this}_createClass(EventScreen,[{key:"dispose",value:function dispose(){_get(_getPrototypeOf(EventScreen.prototype),"dispose",this).call(this);Liferay.fire("screenDispose",{app:Liferay.SPA.app,screen:this})}},{key:"activate",value:function activate(){_get(_getPrototypeOf(EventScreen.prototype),
"activate",this).call(this);Liferay.fire("screenActivate",{app:Liferay.SPA.app,screen:this})}},{key:"addCache",value:function addCache(content){_get(_getPrototypeOf(EventScreen.prototype),"addCache",this).call(this,content);this.cacheLastModified=(new Date).getTime()}},{key:"checkRedirectPath",value:function checkRedirectPath(redirectPath){var app=Liferay.SPA.app;if(!_globals.default.capturedFormElement&&!app.findRoute(redirectPath))window.location.href=redirectPath}},{key:"deactivate",value:function deactivate(){_get(_getPrototypeOf(EventScreen.prototype),
"deactivate",this).call(this);Liferay.fire("screenDeactivate",{app:Liferay.SPA.app,screen:this})}},{key:"beforeScreenFlip",value:function beforeScreenFlip(){Liferay.fire("beforeScreenFlip",{app:Liferay.SPA.app,screen:this})}},{key:"copyBodyAttributes",value:function copyBodyAttributes(){var virtualBody=this.virtualDocument.querySelector("body");document.body.className=virtualBody.className;document.body.onload=virtualBody.onload}},{key:"evaluateStyles",value:function evaluateStyles(surfaces){var currentLanguageId=
document.querySelector("html").lang.replace("-","_");var languageId=this.virtualDocument.lang.replace("-","_");if(currentLanguageId!==languageId){this.stylesPermanentSelector_=_senna.HtmlScreen.selectors.stylesPermanent;this.stylesTemporarySelector_=_senna.HtmlScreen.selectors.stylesTemporary;this.makePermanentSelectorsTemporary_(currentLanguageId,languageId)}return _get(_getPrototypeOf(EventScreen.prototype),"evaluateStyles",this).call(this,surfaces).then(this.restoreSelectors_.bind(this))}},{key:"flip",
value:function flip(surfaces){var _this2=this;this.copyBodyAttributes();return Promise.resolve(this.beforeScreenFlip()).then(_get(_getPrototypeOf(EventScreen.prototype),"flip",this).call(this,surfaces)).then(function(){_this2.runBodyOnLoad();Liferay.fire("screenFlip",{app:Liferay.SPA.app,screen:_this2})})}},{key:"getCache",value:function getCache(){var cache=null;var app=Liferay.SPA.app;if(app.isCacheEnabled()&&!app.isScreenCacheExpired(this))cache=_get(_getPrototypeOf(EventScreen.prototype),"getCache",
this).call(this);return cache}},{key:"getCacheLastModified",value:function getCacheLastModified(){return this.cacheLastModified}},{key:"isValidResponseStatusCode",value:function isValidResponseStatusCode(statusCode){var validStatusCodes=Liferay.SPA.app.getValidStatusCodes();return statusCode>=200&&statusCode<=500||validStatusCodes.indexOf(statusCode)>-1}},{key:"load",value:function load(path){var _this3=this;return _get(_getPrototypeOf(EventScreen.prototype),"load",this).call(this,path).then(function(content){var redirectPath=
_this3.beforeUpdateHistoryPath(path);_this3.checkRedirectPath(redirectPath);Liferay.fire("screenLoad",{app:Liferay.SPA.app,content:content,screen:_this3});return content})}},{key:"makePermanentSelectorsTemporary_",value:function makePermanentSelectorsTemporary_(currentLanguageId,languageId){_senna.HtmlScreen.selectors.stylesTemporary=_senna.HtmlScreen.selectors.stylesTemporary.split(",").concat(_senna.HtmlScreen.selectors.stylesPermanent.split(",").map(function(item){return"".concat(item,'[href*\x3d"').concat(currentLanguageId,
'"]')})).join();_senna.HtmlScreen.selectors.stylesPermanent=_senna.HtmlScreen.selectors.stylesPermanent.split(",").map(function(item){return"".concat(item,'[href*\x3d"').concat(languageId,'"]')}).join()}},{key:"restoreSelectors_",value:function restoreSelectors_(){_senna.HtmlScreen.selectors.stylesPermanent=this.stylesPermanentSelector_||_senna.HtmlScreen.selectors.stylesPermanent;_senna.HtmlScreen.selectors.stylesTemporary=this.stylesTemporarySelector_||_senna.HtmlScreen.selectors.stylesTemporary}},
{key:"runBodyOnLoad",value:function runBodyOnLoad(){var onLoad=document.body.onload;if(onLoad)onLoad()}},{key:"runFaviconInElement_",value:function runFaviconInElement_(elements){return _get(_getPrototypeOf(EventScreen.prototype),"runFaviconInElement_",this).call(this,elements).then(function(){elements.forEach(function(element){if(!element.type&&element.href.indexOf(".ico")!==-1)element.type="image/x-icon"})})}}]);return EventScreen}(_senna.HtmlScreen);var _default=EventScreen;exports.default=_default}});
Liferay.Loader.define("frontend-js-spa-web@4.0.27/liferay/screen/ActionURLScreen.es",["module","exports","require","frontend-js-spa-web$senna","./EventScreen.es"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _senna=require("frontend-js-spa-web$senna");var _EventScreen2=_interopRequireDefault(require("./EventScreen.es"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:
{default:obj}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,
props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&
(_typeof(call)==="object"||typeof call==="function"))return call;return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get)_get=Reflect.get;else _get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,
property);if(desc.get)return desc.get.call(receiver);return desc.value};return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,
superClass){if(typeof superClass!=="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ActionURLScreen=function(_EventScreen){_inherits(ActionURLScreen,
_EventScreen);function ActionURLScreen(){var _this;_classCallCheck(this,ActionURLScreen);_this=_possibleConstructorReturn(this,_getPrototypeOf(ActionURLScreen).call(this));_this.httpMethod="POST";return _this}_createClass(ActionURLScreen,[{key:"getRequestPath",value:function getRequestPath(){var requestPath=null;var request=this.getRequest();if(request){var uri=new URL(_get(_getPrototypeOf(ActionURLScreen.prototype),"getRequestPath",this).call(this),window.location.origin);if(uri.searchParams.get("p_p_lifecycle")===
"1")uri.searchParams.set("p_p_lifecycle","0");requestPath=_senna.utils.getUrlPath(uri.toString())}return requestPath}}]);return ActionURLScreen}(_EventScreen2.default);var _default=ActionURLScreen;exports.default=_default}});
Liferay.Loader.define("frontend-js-spa-web@4.0.27/liferay/screen/RenderURLScreen.es",["module","exports","require","./EventScreen.es"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _EventScreen2=_interopRequireDefault(require("./EventScreen.es"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol===
"function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function"))return call;
return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function");
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var RenderURLScreen=function(_EventScreen){_inherits(RenderURLScreen,_EventScreen);function RenderURLScreen(){var _this;_classCallCheck(this,RenderURLScreen);_this=_possibleConstructorReturn(this,
_getPrototypeOf(RenderURLScreen).call(this));_this.cacheable=true;return _this}return RenderURLScreen}(_EventScreen2.default);var _default=RenderURLScreen;exports.default=_default}});
Liferay.Loader.define("frontend-js-spa-web@4.0.27/liferay/init.es",["module","exports","require","frontend-js-metal-web$metal","frontend-js-metal-web$metal-dom","frontend-js-spa-web$senna","frontend-js-spa-web$senna/lib/globals/globals","./app/App.es","./screen/ActionURLScreen.es","./screen/RenderURLScreen.es"],function(module,exports,require){var define=undefined;var global=window;{Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _metal=require("frontend-js-metal-web$metal");
var _metalDom=require("frontend-js-metal-web$metal-dom");var _senna=require("frontend-js-spa-web$senna");var _globals=_interopRequireDefault(require("frontend-js-spa-web$senna/lib/globals/globals"));var _App=_interopRequireDefault(require("./app/App.es"));var _ActionURLScreen=_interopRequireDefault(require("./screen/ActionURLScreen.es"));var _RenderURLScreen=_interopRequireDefault(require("./screen/RenderURLScreen.es"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
var initSPA=function initSPA(){var app=new _App.default;app.addRoutes([{handler:_ActionURLScreen.default,path:function path(url){var match=false;var uri=new URL(url,window.location.origin);var loginRedirect=new URL(Liferay.SPA.loginRedirect,window.location.origin);var host=loginRedirect.host||window.location.host;if(app.isLinkSameOrigin_(host))match=uri.searchParams.get("p_p_lifecycle")==="1";return match}},{handler:_RenderURLScreen.default,path:function path(url){var match=false;if((url+"/").indexOf(themeDisplay.getPathMain()+
"/")!==0){var excluded=Liferay.SPA.excludedPaths.some(function(excludedPath){return url.indexOf(excludedPath)===0});if(!excluded){var uri=new URL(url,window.location.origin);var lifecycle=uri.searchParams.get("p_p_lifecycle");match=lifecycle==="0"||!lifecycle}}return match}}]);Liferay.Util.submitForm=function(form){_metal.async.nextTick(function(){var formElement=Object.isPrototypeOf.call(HTMLFormElement.prototype,form)?form:form.getDOM();var formSelector="form"+Liferay.SPA.navigationExceptionSelectors;
var url=formElement.action;if((0,_metalDom.match)(formElement,formSelector)&&app.canNavigate(url)&&formElement.method!=="get"&&!app.isInPortletBlacklist(formElement)){Liferay.Util._submitLocked=false;_globals.default.capturedFormElement=formElement;var buttonSelector="button:not([type]),button[type\x3dsubmit],input[type\x3dsubmit]";if((0,_metalDom.match)(_globals.default.document.activeElement,buttonSelector))_globals.default.capturedFormButtonElement=_globals.default.document.activeElement;else _globals.default.capturedFormButtonElement=
formElement.querySelector(buttonSelector);app.navigate(_senna.utils.getUrlPath(url))}else formElement.submit()})};Liferay.initComponentCache();Liferay.SPA.app=app;Liferay.SPA.version=_senna.version;Liferay.fire("SPAReady");return app};var _default={init:function init(callback){var _this=this;if(_globals.default.document.readyState=="loading")_globals.default.document.addEventListener("DOMContentLoaded",function(){callback.call(_this,initSPA())});else callback.call(this,initSPA())}};exports.default=
_default}});
